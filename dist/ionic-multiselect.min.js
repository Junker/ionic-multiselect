!function(){"use strict";angular.module("ionic-multiselect",[]).filter("translateItem",["$injector","$parse",function(n,r){return function(e,t){try{var a=n.get("$filter"),l=r("item."+t.valueProperty)(t);return a("translate")(t.indexTranslate+l)}catch(e){return""}}}]).filter("showTextData",["$injector",function(u){return function(e,t){try{var a=u.get("$filter")}catch(e){}var l=[];if(-1<e.indexOf("^"))for(var n=(l=(l=e.split("^")).filter(Boolean)).length,r=0;r<n;r++){if(t.isTranslate)var i=a("translate")(t.indexTranslate+l[r].trim());else i=l[r].trim();l[r]=i}else t.isTranslate?l.push(a("translate")(t.indexTranslate+e.trim())):l.push(e);return 0==l.length?"":l}}]).provider("multiselect",function(){this.setModalTemplateUrl=function(e){this.modalTemplateUrl=e},this.setTemplateUrl=function(e){this.templateUrl=e},this.$get=function(){return this}}).directive("multiselect",["$ionicModal","multiselect",function(a,l){return{restrict:"E",template:function(e,t){return t.templateUrl||l.templateUrl?"<ng-include src=\"'"+(t.templateUrl||l.templateUrl)+"'\"></ng-include>":""},scope:{items:"=",defaultValue:"=",valueChangedCallback:"&valueChanged",getCustomTextCallback:"&getCustomText"},link:function(r,e,t){r.headerText=t.headerText||"",r.text=t.text||"",r.defaultText=t.text||"",r.checkedProperty=t.checkedProperty||"checked",r.textProperty=t.textProperty||"text",r.valueProperty=t.valueProperty||"id",r.isTranslate="true"===t.isTranslate||!1,r.indexTranslate=t.indexTranslate||"",r.modalTemplateUrl=t.modalTemplateUrl||l.modalTemplateUrl,r.modalAnimation=t.modalAnimation,r.noteText=t.noteText||"",r.modalTemplateUrl?a.fromTemplateUrl(r.modalTemplateUrl,{scope:r,animation:r.modalAnimation}).then(function(e){r.modal=e}):r.modal=a.fromTemplate("",{scope:r,animation:r.modalAnimation}),r.$on("$destroy",function(){r.modal.remove()}),r.getItemText=function(e){return r.textProperty?e[r.textProperty]:e},r.getItemValue=function(e){return r.valueProperty?e[r.valueProperty]:e},r.getText=function(e){var l=e||[],n="";return l.length?angular.forEach(r.items,function(e,t){for(var a=0;a<l.length;a++)if(r.getItemValue(e)==l[a]){r.isTranslate?n+=(n.length?"^":"")+r.getItemValue(e):n+=(n.length?"^":"")+r.getItemText(e);break}}):n=r.defaultText,n.length||r.isTranslate||(n=r.defaultText),r.isTranslate&&""==n.trim()&&(n="^"),r.getCustomTextCallback({value:e})||n},r.hideItems=function(e){r.modal.hide()},r.onCheckValueChanged=function(e,t){void 0!==e&&r.valueChangedCallback({value:e})},r.onValueChanged=function(e,t){r.text=r.getText(e)},r.showItems=function(e){e.preventDefault(),r.modal.show()},r.validate=function(){r.fetchCheckedItems(),r.hideItems()},r.fetchCheckedItems=function(){if(r.value=[],r.items){var a=[];angular.forEach(r.items,function(e,t){e[r.checkedProperty]?(r.value[t]=r.getItemValue(e),a.push(e)):r.value[t]=""}),r.itemChecked=a}},r.fetchCheckedDefaultItems=function(){if(null!=r.defaultValue&&(r.value=[],r.items)){var l=[];angular.forEach(r.defaultValue,function(a){angular.forEach(r.items,function(e,t){e[r.valueProperty]==a&&(r.value[t]=r.getItemValue(e),e.checked=!0,l.push(e))})}),r.itemChecked=l}},r.fetchCheckedDefaultItems(),r.$watch("itemChecked",r.onCheckValueChanged,!0),r.$watch("value",r.onValueChanged,!0),r.$watch("items",r.fetchCheckedItems,!0),r.$watch("defaultValue",r.fetchCheckedDefaultItems,!0)}}}])}();